pcall(function()


    local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
    local Window = Library.CreateLib("YBA NPC FARM", "Serpent")

    local Tab = Window:NewTab("Main")
    local Section = Tab:NewSection("Main")

    local gc = getgc(true);
    local key = nil;
    for i = #gc, 1, -1 do
        if type(gc[i]) == "table" then
            if rawget(gc[i], "A") and type(rawget(gc[i], "A")) == "table" and #(rawget(gc[i], "A")) > 2 then
                key = rawget(gc[i], "A")[2];
                break;
            end
        end
    end

    local oldNamecall;
    oldNamecall = hookmetamethod(game, "__namecall", function(self, ...)
        local args = {...};
        if not checkcaller() and getnamecallmethod() == "InvokeServer" and tostring(self) == "Returner" and args[1] == "idklolbrah2de" then
            if key then return key;
            else return "  ___XP DE KEY"; end
        end
        if not checkcaller() and getnamecallmethod() == "InvokeServer" and args[1] == "Reset" then
            return;
        end
        if not checkcaller() and getnamecallmethod() == "FireServer" and args[1] == "Reset" then
            return;
        end
        if not checkcaller() and getnamecallmethod() == "Kick" then
            return;
        end
        return oldNamecall(self, ...);
    end);

    Section:NewToggle(
        "Start NPC Farm",
        "ToggleInfo",
        function(state)
            _G.wenamechainasama = state
        end
    )

    Section:NewDropdown("DropdownText", "DropdownInf", {"Zombie Henchman", "Security Guard", "Thug", "Alpha Thug", "Corrupt Police", "Vampire", "Leaky Eye Luca", "Bucciarati", "Pesci", "Ghiaccio", "Fugo"}, function(currentOption)
        _G.mobFarmOption = currentOption
    end)

    
    function pressKey(key)
        -- Script generated by SimpleSpy - credits to exx#9394

        local args = {
            [1] = "InputBegan",
            [2] = {
                ["Input"] = key
            }
        }

        game:GetService("Players").LocalPlayer.Character.RemoteEvent:FireServer(unpack(args))
    end


    local enemy
    spawn(
        function()
            game.RunService.RenderStepped:Connect(
                function()
                    if _G.wenamechainasama then
                       game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = game.Workspace.Living[tostring(_G.mobFarmOption)].HumanoidRootPart.CFrame * CFrame.new(0, 0, 6)
                       if game.Workspace.Living[tostring(_G.mobFarmOption)].Health.Value == 0 then return end

                       
                        local args = {
                            [1] = "Attack",
                            [2] = "m1"
                        }

                       
                         spawn(function()
                            if _G.m1Move then
                                game:GetService("Players").LocalPlayer.Character.RemoteEvent:FireServer(unpack(args))
                            end
                        end)

                        spawn(function()
                            if _G.EMove then
                                pressKey(Enum.KeyCode.E)
                            end
                        end)

                        spawn(function()
                            if _G.RMove then
                                pressKey(Enum.KeyCode.R)
                            end
                        end)
                        
                        spawn(function()
                            if _G.TMove then
                                pressKey(Enum.KeyCode.T)
                            end
                        end)

                        spawn(function()
                            if _G.YMove then
                                pressKey(Enum.KeyCode.Y)
                            end
                        end)

                        spawn(function()
                            if _G.HMove then
                                pressKey(Enum.KeyCode.H)
                            end
                        end)
                    end
                end
            )
        end
    )

    local Section2 = Tab:NewSection("Misc")

    Section2:NewToggle(
        "Auto Equip Stand",
        "ToggleInfo",
        function(state)
            _G.autoStand = state
        end
    )

    local plyrName = game.Players.LocalPlayer.Name

    spawn(
        function()
            game.RunService.RenderStepped:Connect(
                function()
                    if game:GetService("Workspace").Living[plyrName].SummonedStand.Value == false and _G.autoStand and _G.wenamechainasama then
                        -- Script generated by SimpleSpy - credits to exx#9394

                        local args = {
                            [1] = "ToggleStand",
                            [2] = "Toggle"
                        }

                        game:GetService("Players").LocalPlayer.Character.RemoteFunction:InvokeServer(unpack(args))
                    end
                end
            )
        end
    )


    Section2:NewToggle(
        "Auto Quest (DRACULA)",
        "ToggleInfo",
        function(state)
            _G.autoQuestDracula = state
        end
    )

    spawn(function()
        game.RunService.RenderStepped:Connect(function()
            -- Script generated by SimpleSpy - credits to exx#9394

local args = {
    [1] = "EndDialogue",
    [2] = {
        ["NPC"] = "Dracula",
        ["Option"] = "Option1",
        ["Dialogue"] = "Dialogue4"
    }
}
            if _G.autoQuestDracula then
                if game:GetService("Players").LocalPlayer.PlayerGui.HUD.Main.Frames.Quest.Quests:FindFirstChild("Take down 3 zombie henchmans") then return end
                game:GetService("Players").LocalPlayer.Character.RemoteEvent:FireServer(unpack(args))
            end

        end)
    end)

    local Section3 = Tab:NewSection("Moves")

    Section3:NewToggle(
        "m1 Move",
        "ToggleInfo",
        function(state)
            _G.m1Move= state
        end
    )

    Section3:NewToggle(
        "E Move",
        "ToggleInfo",
        function(state)
            _G.EMove= state
        end
    )

    Section3:NewToggle(
            "R Move",
            "ToggleInfo",
            function(state)
                _G.RMove= state
            end
    )

    Section3:NewToggle(
        "T Move",
        "ToggleInfo",
        function(state)
            _G.TMove= state
        end
    )

    Section3:NewToggle(
        "Y Move",
        "ToggleInfo",
        function(state)
            _G.YMove= state
        end
    )

    Section3:NewToggle(
        "H Move",
        "ToggleInfo",
        function(state)
            _G.HMove= state
        end
    )
    local Tab2 = Window:NewTab("Storyline")
    local Tab2Section = Tab2:NewSection("Meeting The Gang Members")
    

    Tab2Section:NewButton("Fugo", "ButtonInfo", function()
        workspace.Living.projectNebuIa.RemoteEvent:FireServer("EndDialogue",{["NPC"] = "Storyline #6",["Option"] = "Option1",["Dialogue"] = "Dialogue5"})
    end)
    
    Tab2Section:NewButton("Mista", "ButtonInfo", function()
        workspace.Living.projectNebuIa.RemoteEvent:FireServer("EndDialogue",{["NPC"] = "Storyline #7",["Option"] = "Option1",["Dialogue"] = "Dialogue5"})
    end)

    Tab2Section:NewButton("Narancia", "ButtonInfo", function()
        workspace.Living.projectNebuIa.RemoteEvent:FireServer("EndDialogue",{["NPC"] = "Storyline #8",["Option"] = "Option1",["Dialogue"] = "Dialogue4"})
    end)
    Tab2Section:NewButton("Abbacchio", "ButtonInfo", function()
        workspace.Living.projectNebuIa.RemoteEvent:FireServer("EndDialogue",{["NPC"] = "Storyline #9",["Option"] = "Option1",["Dialogue"] = "Dialogue7"})
    end) 
    
    Tab2Section:NewButton("Bucciarati", "ButtonInfo", function()
        workspace.Living.projectNebuIa.RemoteEvent:FireServer("EndDialogue",{["NPC"] = "Storyline #10",["Option"] = "Option1",["Dialogue"] = "Dialogue6"})
    end) 
    
end)
